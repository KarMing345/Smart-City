const translations = {
  zh: {
    '马六甲智慧城市': '马六甲智慧城市',
    '智慧社区与市民服务平台': '智慧社区与市民服务平台',
    '首页': '首页',
    '服务': '服务',
    '关于': '关于',
    '欢迎来到马六甲智慧城市': '欢迎来到马六甲智慧城市',
    '打造更智能、更宜居的未来城市': '打造更智能、更宜居的未来城市',
    '了解更多': '了解更多',
    '紧急服务': '紧急服务',
    '智慧交通': '智慧交通',
    '智慧环保': '智慧环保',
    '智慧政务': '智慧政务',
    '实时交通监控、智能信号灯控制、停车位管理等智能交通解决方案。': '实时交通监控、智能信号灯控制、停车位管理等智能交通解决方案。',
    '空气质量监测、垃圾分类管理、节能减排等环保监测系统。': '空气质量监测、垃圾分类管理、节能减排等环保监测系统。',
    '在线政务服务、市民服务平台、城市管理等智能化服务。': '在线政务服务、市民服务平台、城市管理等智能化服务。',
    '智慧城市助手': '智慧城市助手',
    '输入您的问题...': '输入您的问题...',
    '发送': '发送',
    '我是智慧城市AI助手，很高兴为您服务！': '我是智慧城市AI助手，很高兴为您服务！',
    '医疗急救': '医疗急救',
    '消防救援': '消防救援',
    '警察援助': '警察援助',
    '确认发送紧急求助': '确认发送紧急求助',
    '您确定要发送紧急求助吗？此操作将立即通知相关救援人员。': '您确定要发送紧急求助吗？此操作将立即通知相关救援人员。',
    '确认': '确认',
    '取消': '取消',
    '紧急服务已通知': '紧急服务已通知',
    '救援人员正在赶来，请保持冷静': '救援人员正在赶来，请保持冷静',
  },
  en: {
    '马六甲智慧城市': 'Melaka Smart City',
    '智慧社区与市民服务平台': 'Smart Community & Citizen Services Platform',
    '首页': 'Home',
    '服务': 'Services',
    '关于': 'About',
    '欢迎来到马六甲智慧城市': 'Welcome to Melaka Smart City',
    '打造更智能、更宜居的未来城市': 'Building a Smarter, More Livable Future City',
    '了解更多': 'Learn More',
    '紧急服务': 'Emergency Services',
    '智慧交通': 'Smart Transportation',
    '智慧环保': 'Smart Environment',
    '智慧政务': 'Smart Governance',
    '实时交通监控、智能信号灯控制、停车位管理等智能交通解决方案。': 'Real-time traffic monitoring, smart traffic lights, and parking management solutions.',
    '空气质量监测、垃圾分类管理、节能减排等环保监测系统。': 'Air quality monitoring, waste management, and energy conservation systems.',
    '在线政务服务、市民服务平台、城市管理等智能化服务。': 'Online government services, citizen service platform, and smart city management.',
    '智慧城市助手': 'Smart City Assistant',
    '输入您的问题...': 'Enter your question...',
    '发送': 'Send',
    '我是智慧城市AI助手，很高兴为您服务！': 'I am the Smart City AI Assistant, happy to help you!',
    '医疗急救': 'Medical Emergency',
    '消防救援': 'Fire Rescue',
    '警察援助': 'Police Assistance',
    '确认发送紧急求助': 'Confirm Emergency Alert',
    '您确定要发送紧急求助吗？此操作将立即通知相关救援人员。': 'Are you sure you want to send an emergency alert? This will notify emergency responders immediately.',
    '确认': 'Confirm',
    '取消': 'Cancel',
    '紧急服务已通知': 'Emergency Services Notified',
    '救援人员正在赶来，请保持冷静': 'Emergency responders are on their way, please stay calm',
  },
  ms: {
    '马六甲智慧城市': 'Bandar Pintar Melaka',
    '智慧社区与市民服务平台': 'Platform Perkhidmatan Komuniti & Rakyat Pintar',
    '首页': 'Laman Utama',
    '服务': 'Perkhidmatan',
    '关于': 'Tentang',
    '欢迎来到马六甲智慧城市': 'Selamat Datang ke Bandar Pintar Melaka',
    '打造更智能、更宜居的未来城市': 'Membina Bandar Masa Depan yang Lebih Pintar dan Berdaya Huni',
    '了解更多': 'Ketahui Lebih Lanjut',
    '紧急服务': 'Perkhidmatan Kecemasan',
    '智慧交通': 'Pengangkutan Pintar',
    '智慧环保': 'Alam Sekitar Pintar',
    '智慧政务': 'Tadbir Urus Pintar',
    '实时交通监控、智能信号灯控制、停车位管理等智能交通解决方案。': 'Pemantauan trafik masa nyata, lampu isyarat pintar, dan penyelesaian pengurusan tempat letak kereta.',
    '空气质量监测、垃圾分类管理、节能减排等环保监测系统。': 'Pemantauan kualiti udara, pengurusan sisa, dan sistem pemuliharaan tenaga.',
    '在线政务服务、市民服务平台、城市管理等智能化服务。': 'Perkhidmatan kerajaan dalam talian, platform perkhidmatan rakyat, dan pengurusan bandar pintar.',
    '智慧城市助手': 'Pembantu Bandar Pintar',
    '输入您的问题...': 'Masukkan soalan anda...',
    '发送': 'Hantar',
    '我是智慧城市AI助手，很高兴为您服务！': 'Saya adalah Pembantu AI Bandar Pintar, gembira dapat membantu anda!',
    '医疗急救': 'Kecemasan Perubatan',
    '消防救援': 'Penyelamat Kebakaran',
    '警察援助': 'Bantuan Polis',
    '确认发送紧急求助': 'Sahkan Amaran Kecemasan',
    '您确定要发送紧急求助吗？此操作将立即通知相关救援人员。': 'Adakah anda pasti mahu menghantar amaran kecemasan? Ini akan memaklumkan penyelamat dengan segera.',
    '确认': 'Sahkan',
    '取消': 'Batal',
    '紧急服务已通知': 'Perkhidmatan Kecemasan Dimaklumkan',
    '救援人员正在赶来，请保持冷静': 'Penyelamat dalam perjalanan, sila bertenang',
  }
};

let currentLanguage = 'zh'; // Default language

function translatePage() {
    document.querySelectorAll('[data-translate-key]').forEach(element => {
        const key = element.getAttribute('data-translate-key');
        const translation = translations[currentLanguage][key] || key;
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    document.documentElement.lang = currentLanguage;
}

function setLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        translatePage();
    } else {
        console.warn(`Language "${lang}" not supported.`);
    }
}

// Initial translation on page load
document.addEventListener('DOMContentLoaded', translatePage); 